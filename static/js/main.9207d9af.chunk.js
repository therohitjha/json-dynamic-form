(this.webpackJsonptesting=this.webpackJsonptesting||[]).push([[0],{11:function(e,a,t){e.exports=t(19)},16:function(e,a,t){},17:function(e,a,t){},18:function(e,a,t){},19:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(8),i=t.n(r),o=(t(16),t(2)),c=t(3),s=t(4),u=t(6),m=t(5),d=t(7),f=t(10),g=t(1),v=(t(17),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={},t.validate=function(){var e={},a=t.props.validators;return console.log(a),a.forEach((function(a){console.log(a);var n=t.state[a.key];console.log("validating ".concat(a.key)),a.validations.forEach((function(t){t.validator(n)||(void 0==e[a.key]&&(e[a.key]=[]),e[a.key].push(t.message))}))})),console.log("ERRORS: ",e),e},t.onSubmit=function(e){e.preventDefault();var a=t.validate();if(0!==Object.entries(a).length)return alert(JSON.stringify(a)),!1;t.props.onSubmit&&t.props.onSubmit(t.state)},t.onChange=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"single";if("single"===n)t.setState(Object(g.a)({},a,e.target.value),(function(){}));else{var l=!!t.state[a]&&t.state[a].find((function(a){return a===e.target.value}));if(l){var r=t.state[a].filter((function(e){return e!==l}));t.setState(Object(g.a)({},a,r))}else{console.log("found",a,t.state[a]);var i=t.state[a]?Object(o.a)(t.state[a]):[];t.setState(Object(g.a)({},a,[e.target.value].concat(Object(o.a)(i))))}}},t.renderForm=function(){var e=t.props.model;t.props.defaultValues;return e.map((function(e){var a=e.key,n=e.type||"text",r=e.props||{},i=e.name,o=e.value,c=a;o=t.state[c]||"";var s=l.a.createElement("input",Object.assign({},r,{className:"form-input",type:n,key:a,name:i,value:o,onChange:function(e){t.onChange(e,c)}}));return"radio"==n&&(s=e.options.map((function(e){var a=e.value==o;return l.a.createElement(l.a.Fragment,{key:"fr"+e.key},l.a.createElement("input",Object.assign({},r,{className:"form-input",type:n,key:e.key,name:e.name,checked:a,value:e.value,onChange:function(a){t.onChange(a,e.name)}})),l.a.createElement("label",{key:"ll"+e.key},e.label))})),s=l.a.createElement("div",{className:"form-group-radio"},s)),"select"==n&&(s=e.options.map((function(e){e.value;return l.a.createElement("option",Object.assign({},r,{className:"form-input",key:e.key,value:e.value}),e.value)})),s=l.a.createElement("select",{value:o,onChange:function(a){t.onChange(a,e.key)}},s)),"checkbox"==n&&(s=e.options.map((function(a){var i=!1;return o&&o.length>0&&(i=o.indexOf(a.value)>-1),l.a.createElement(l.a.Fragment,{key:"cfr"+a.key},l.a.createElement("input",Object.assign({},r,{className:"form-input",type:n,key:a.key,name:a.name,checked:i,value:a.value,onChange:function(a){t.onChange(a,e.key,"multiple")}})),l.a.createElement("label",{key:"ll"+a.key},a.label))})),s=l.a.createElement("div",{className:"form-group-checkbox"},s)),l.a.createElement("div",{key:"g"+a,className:"form-group"},l.a.createElement("label",{className:"form-label",key:"l"+a,htmlFor:a},e.label),s)}))},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.props.title||"Dynamic Form";return l.a.createElement("div",{className:this.props.className},l.a.createElement("h3",{className:"form-title"},a),l.a.createElement("form",{className:"dynamic-form",onSubmit:function(a){e.onSubmit(a)}},this.renderForm(),l.a.createElement("div",{className:"form-actions"},l.a.createElement("button",{type:"submit"},"submit"))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return console.log("gds:p:s",e.defaultValues,a),e.defaultValues&&e.defaultValues.id!==a.id?Object(f.a)({},e.defaultValues):(console.log("no state change"),null)}}]),a}(l.a.Component)),p={checkName:function(e){return/^[A-Z]/i.test(e)},specialName:function(e){return-1==e.indexOf("superman")},validateRating:function(e){var a=Number(e);return a>0&&a<=5}},b=(t(18),function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={data:[{id:1,name:"a",age:29,qualification:"B.Com",rating:3,gender:"male",city:"Kerala",skills:["reactjs","angular","vuejs"]},{id:2,name:"b",age:35,qualification:"B.Sc",rating:5,gender:"female",city:"Mumbai",skills:["reactjs","angular"]},{id:3,name:"c",age:42,qualification:"B.E",rating:3,gender:"female",city:"Bangalore",skills:["reactjs"]}],current:{}},t.onSubmit=function(e){var a=[];e.id?a=t.state.data.filter((function(a){return a.id!=e.id})):(e.id=+new Date,a=t.state.data.slice()),t.setState({data:[e].concat(Object(o.a)(a)),current:{}})},t.onEdit=function(e){var a=t.state.data.find((function(a){return a.id==e}));t.setState({current:a})},t.onNewClick=function(e){t.setState({current:{}})},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.state.data.map((function(a){return l.a.createElement("tr",{key:a.id},l.a.createElement("td",null,a.name),l.a.createElement("td",null,a.age),l.a.createElement("td",null,a.qualification),l.a.createElement("td",null,a.gender),l.a.createElement("td",null,a.rating),l.a.createElement("td",null,a.city),l.a.createElement("td",null,a.skills&&a.skills.join(",")),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.onEdit(a.id)}},"edit")))}));return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"form-actions"},l.a.createElement("button",{onClick:this.onNewClick,type:"submit"},"NEW")),l.a.createElement(v,{key:this.state.current.id,className:"form",title:"Registration",defaultValues:this.state.current,validators:[{key:"name",validations:[{validator:p.checkName,message:"Name should start with alphabets"},{validator:p.specialName,message:"Name should contain the word superman"}]},{key:"rating",validations:[{validator:p.validateRating,message:"Rating should be between 0 and 5"}]}],model:[{key:"name",label:"Name",props:{required:!0}},{key:"age",label:"Age",type:"number"},{key:"rating",label:"Rating",type:"number",props:{min:0,max:5}},{key:"gender",label:"Gender",type:"radio",options:[{key:"male",label:"Male",name:"gender",value:"male"},{key:"female",label:"Female",name:"gender",value:"female"}]},{key:"qualification",label:"Qualification"},{key:"city",label:"City",type:"select",value:"Kerala",options:[{key:"mumbai",label:"Mumbai",value:"Mumbai"},{key:"bangalore",label:"Bangalore",value:"Bangalore"},{key:"kerala",label:"Kerala",value:"Kerala"}]},{key:"skills",label:"Skills",type:"checkbox",options:[{key:"reactjs",label:"ReactJS",value:"reactjs"},{key:"angular",label:"Angular",value:"angular"},{key:"vuejs",label:"VueJS",value:"vuejs"}]}],onSubmit:function(a){e.onSubmit(a)}}),l.a.createElement("table",{border:"1"},l.a.createElement("tbody",null,a)))}}]),a}(n.Component)),y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(l.a.createElement(b,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/json-dynamic-form",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/json-dynamic-form","/service-worker.js");y?(!function(e){fetch(e).then((function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):k(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):k(e)}))}}()}},[[11,1,2]]]);
//# sourceMappingURL=main.9207d9af.chunk.js.map